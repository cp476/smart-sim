{"remainingRequest":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/thread-loader/dist/cjs.js!/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/babel-loader/lib/index.js!/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Moosa/cp476_project/v2/smart-sports-sim/src/components/daily-bankroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/src/components/daily-bankroll.vue","mtime":1554137503000},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters, mapActions } from 'vuex';\nimport { mixin as clickaway } from 'vue-clickaway';\nimport firebase from 'firebase';\nimport { db } from '../main';\nexport default {\n  mixins: [clickaway],\n  data: function data() {\n    return {\n      bankroll: 0,\n      firebank: 0\n    };\n  },\n  mounted: function mounted() {\n    var user = firebase.auth().currentUser;\n    var self = this;\n    var docRef = db.collection(\"users\").doc(user.uid);\n    var fireRoll = 0;\n    docRef.get().then(function (doc) {\n      if (doc.exists) {\n        console.log(\"Document data:\", doc.data().bankroll);\n        console.log(\"bankroll is: \");\n        fireRoll = doc.data().bankroll;\n        self.firebank = fireRoll;\n        console.log(this.bankroll);\n      } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document!\");\n      }\n    }).catch(function (error) {\n      console.log(\"Error getting document:\", error);\n    });\n    return self.firebank;\n  },\n  computed: {\n    // ...mapGetters(['dailyBankroll']),\n    // a computed getter\n    firebaseBankroll: function firebaseBankroll() {// `this` points to the vm instance\n      // const user = firebase.auth().currentUser\n      // var docRef = db.collection(\"users\").doc(user.uid);\n      // var fireRoll =0;\n      // docRef.get().then(function(doc) {\n      //         if (doc.exists) {\n      //             console.log(\"Document data:\", doc.data().bankroll);\n      //             console.log(\"bankroll is: \")\n      //             var fireRoll = doc.data().bankroll;\n      //           console.log(\"niggers\");\n      //           console.log(fireRoll);\n      //         return fireRoll ;\n      //         } else {\n      //             // doc.data() will be undefined in this case\n      //             console.log(\"No such document!\");\n      //         }\n      //     }).catch(function(error) {\n      //         console.log(\"Error getting document:\", error);\n      //     });\n    }\n  },\n  methods: _objectSpread({}, mapActions(['updateDailyBankroll']), {\n    closeBankroll: function closeBankroll() {\n      this.$emit('close-bankroll');\n    },\n    setDailyBankroll: function setDailyBankroll() {\n      this.updateDailyBankroll(this.bankroll || 0);\n      this.closeBankroll();\n    },\n    addBank: function addBank(bankroll) {\n      var user = firebase.auth().currentUser;\n      var docRef2 = db.collection(\"open\");\n      var self = this;\n      var new_bankroll = firebankroll - risk;\n      var user_ref = db.collection(\"users\").doc(user.uid);\n      return user_ref.update({\n        bankroll: new_bankroll\n      }).then(function () {\n        console.log(\"Document successfully updated!\");\n        update_bankroll();\n        this.$emit('clear-payout');\n      });\n      docRef2.add({\n        val: this.payout.val,\n        teamName: this.payout.team,\n        risk: this.risk,\n        type: this.payout.type,\n        uid: user.uid\n      }).then(function (docRef) {\n        console.log(\"Document written with ID: \", docRef.id);\n        var new_bankroll = firebankroll - risk;\n        var user_ref = db.collection(\"users\").doc(user.uid);\n        return user_ref.update({\n          bankroll: new_bankroll\n        }).then(function () {\n          console.log(\"Document successfully updated!\");\n          update_bankroll();\n          this.$emit('clear-payout');\n        }).catch(function (error) {\n          // The document probably doesn't exist.\n          console.error(\"Error updating document: \", error);\n        });\n      }).catch(function (error) {\n        console.error(\"Error adding document: \", error);\n      });\n      this.risk = null;\n      this.$emit('clear-payout');\n    }\n  })\n};",{"version":3,"sources":["daily-bankroll.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"modal\">\n    <div class=\"daily-bankroll\" role=\"dialog\">\n      <div class=\"daily-bankroll__content +elevation-5 +radius-xxs +relative\" role=\"dialog\" v-on-clickaway=\"closeBankroll\">\n        <header class=\"+pd-lg +pd-t-xxl +pd-b-0 +text-center\">\n          <h1 class=\"+text-lg +text-grey-7 +mg-b-md\">Add Money to your bankroll</h1>\n          <p class=\"+mg-0 +text-grey-5\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Necessitatibus esse architecto provident quo, exercitationem pariatur magnam minus iusto culpa tempore?</p>\n        </header>\n\n        <main class=\"daily-bankroll__form +pd-r-xxl +pd-l-xxl +pd-b-lg +text-center +width-24rem\">\n          <input\n            type=\"text\"\n            class=\"daily-bankroll__input +inline-block +mg-t-lg +mg-b-xl\"\n            @keyup.enter=\"setDailyBankroll\"\n            v-model=\"bankroll\"\n            :placeholder=\"`${bankroll}` || 'Enter your bankroll...'\">\n\n          <v-btn button-style=\"primary\" class=\"+text-base +width-100percent\" label=\"Save Bankroll\" @click=\"addBank(bankroll)\"/>\n          <v-btn label=\"I don't have one\" class=\"+mg-t-md +uppercase +text-sm +text-grey-5\" @click=\"closeBankroll\"/>\n          <v-btn @click=\"closeBankroll\" class=\"+absolute +pin-right-sm +pin-top-sm\">\n            <i slot=\"icon\" class=\"material-icons +text-lg +text-grey-5\">close</i>\n          </v-btn>\n        </main>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { mixin as clickaway } from 'vue-clickaway';\nimport firebase from 'firebase';\nimport { db } from '../main';\n\n\nexport default {\n    mixins: [clickaway],\n    data: () => ({\n        bankroll: 0,\n        firebank:0,\n    }),\n    mounted() {\n      const user = firebase.auth().currentUser\n      var self = this;\n      var docRef = db.collection(\"users\").doc(user.uid);\n      var fireRoll =0;\n      docRef.get().then(function(doc) {\n              if (doc.exists) {\n                  console.log(\"Document data:\", doc.data().bankroll);\n                  console.log(\"bankroll is: \")\n                  fireRoll = doc.data().bankroll;\n                  self.firebank = fireRoll;\n                  console.log(  this.bankroll);\n              } else {\n                  // doc.data() will be undefined in this case\n                  console.log(\"No such document!\");\n              }\n          }).catch(function(error) {\n              console.log(\"Error getting document:\", error);\n          });\n\n      return self.firebank\n        }\n    ,\n    computed: {\n        // ...mapGetters(['dailyBankroll']),\n        // a computed getter\n    firebaseBankroll: function () {\n      // `this` points to the vm instance\n      // const user = firebase.auth().currentUser\n\n      // var docRef = db.collection(\"users\").doc(user.uid);\n      // var fireRoll =0;\n      // docRef.get().then(function(doc) {\n      //         if (doc.exists) {\n      //             console.log(\"Document data:\", doc.data().bankroll);\n      //             console.log(\"bankroll is: \")\n      //             var fireRoll = doc.data().bankroll;\n\n      //           console.log(\"niggers\");\n      //           console.log(fireRoll);\n      //         return fireRoll ;\n      //         } else {\n      //             // doc.data() will be undefined in this case\n      //             console.log(\"No such document!\");\n      //         }\n      //     }).catch(function(error) {\n      //         console.log(\"Error getting document:\", error);\n      //     });\n\n    }\n    },\n    methods: {\n        ...mapActions(['updateDailyBankroll']),\n        closeBankroll() {\n            this.$emit('close-bankroll');\n        },\n        setDailyBankroll() {\n            this.updateDailyBankroll(this.bankroll || 0);\n            this.closeBankroll();\n        },\n          addBank(bankroll) {\n            const user = firebase.auth().currentUser\n            var docRef2 = db.collection(\"open\");\n            var self = this;\n\n            var new_bankroll = firebankroll - risk;\n                var user_ref = db.collection(\"users\").doc(user.uid);\n                return user_ref.update({\n                    bankroll: new_bankroll\n                })\n                .then(function() {\n                    console.log(\"Document successfully updated!\");\n                    update_bankroll();\n                    this.$emit('clear-payout');\n                })\n\n            docRef2.add({\n                val: this.payout.val,\n                teamName: this.payout.team,\n                risk: this.risk,\n                type:this.payout.type,\n                uid:user.uid\n            })\n            .then(function(docRef) {\n                console.log(\"Document written with ID: \", docRef.id);\n                var new_bankroll = firebankroll - risk;\n                var user_ref = db.collection(\"users\").doc(user.uid);\n                return user_ref.update({\n                    bankroll: new_bankroll\n                })\n                .then(function() {\n                    console.log(\"Document successfully updated!\");\n                    update_bankroll();\n                    this.$emit('clear-payout');\n                })\n                .catch(function(error) {\n                    // The document probably doesn't exist.\n                    console.error(\"Error updating document: \", error);\n                });\n            })\n            .catch(function(error) {\n                console.error(\"Error adding document: \", error);\n            });\n\n            this.risk = null;\n            this.$emit('clear-payout');\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$_content-width: 40rem;\n\n@include component(daily-bankroll) {\n    align-items: center;\n    background: rgba($black, 0.6);\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    left: 0;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: $z-five;\n\n    @include part(input) {\n        border: 0;\n        font-size: $xl-unit;\n        padding: 0;\n        text-align: center;\n    }\n\n    @include part(content) {\n        background: $white;\n        overflow: hidden;\n        width: $_content-width;\n    }\n\n    @include part(form) {\n        margin: 0 auto;\n    }\n}\n</style>\n"],"sourceRoot":"src/components"}]}