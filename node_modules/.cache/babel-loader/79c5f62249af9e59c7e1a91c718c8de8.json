{"remainingRequest":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/thread-loader/dist/cjs.js!/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/babel-loader/lib/index.js!/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Moosa/cp476_project/v2/smart-sports-sim/src/views/events.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/src/views/events.vue","mtime":1554137155000},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport _defineProperty from \"/Users/Moosa/cp476_project/v2/smart-sports-sim/node_modules/@babel/runtime/helpers/builtin/es6/defineProperty\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport moment from 'moment';\nimport firebase from 'firebase';\nimport TeamBadge from '@/components/team-badge';\nimport BetExample from '@/components/bet-example';\nimport Loader from '@/components/loader';\nimport InfoBadge from '@/components/info-badge';\nimport GradeBadge from '@/components/grade-badge';\nimport { db } from '../main';\nexport default {\n  // devtools = true,\n  // debug = true,\n  components: {\n    TeamBadge: TeamBadge,\n    Loader: Loader,\n    BetExample: BetExample,\n    InfoBadge: InfoBadge,\n    GradeBadge: GradeBadge\n  },\n  data: function data() {\n    var _ref;\n\n    return _ref = {\n      events: null,\n      search: null,\n      chips: [],\n      errors: [],\n      posts: []\n    }, _defineProperty(_ref, \"events\", []), _defineProperty(_ref, \"open_events\", []), _defineProperty(_ref, \"bankroll\", null), _defineProperty(_ref, \"calcData\", null), _ref;\n  },\n  created: function created() {// const events = await axios.get('/events');\n    // const events={};\n    // console.log(\"HELLO\");\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    console.log(firebase.auth().currentUser);\n    var user = firebase.auth().currentUser; // console.log(db.collection('users'));\n\n    console.log(\"legends\");\n    console.log(db.collection('users').orderBy('createdAt')); // db.collection('users').add({\"Moosa\":{\"name\":\"moosa\"}});\n\n    axios.get(\"https://droplet.smartlines.ca/apiv2/events/\").then(function (response) {\n      // JSON responses are automatically parsed.\n      // this.posts = response.data\n      _this.events = response.data;\n      cosole.log(\"LOOL\");\n      console.log(_this.events);\n    }).catch(function (e) {\n      _this.errors.push(e);\n\n      console.log(_this.errors);\n    }); //  this.events = await events.data;\n    // var openBetsRef = db.collection(\"open\");\n    // openBetsRef.get().then(function(doc) {\n    //    openBetsRef.docs.map(doc => doc.data());\n    // })\n\n    var markers = [];\n    db.collection(\"open\").where(\"uid\", \"==\", user.uid).get().then(function (querySnapshot) {\n      querySnapshot.docs.forEach(function (doc) {\n        _this.open_events.push(doc.data());\n      });\n    });\n    console.log(markers);\n  },\n  computed: {\n    update_bankroll: function update_bankroll() {\n      var user = firebase.auth().currentUser;\n      var self = this;\n      var docRef = db.collection(\"users\").doc(user.uid);\n      var fireRoll = 0;\n      docRef.get().then(function (doc) {\n        if (doc.exists) {\n          fireRoll = doc.data().bankroll;\n          self.bankroll = fireRoll;\n          console.log(this.bankroll);\n        } else {\n          console.log(\"No such document!\");\n        }\n      }).catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n      return self.bankroll;\n    }\n  },\n  methods: {\n    isActiveTab: function isActiveTab(event, type, team, name) {\n      // console.log(team);\n      // console.log(event.odds[0].team_1.moneyline.value);\n      var team1 = '';\n\n      if (team == 'team_1') {\n        team1 = \"team_1\";\n      } // console.log(team1);\n\n\n      if (!this.calcData) return;\n      return event.odds[0].team_1.moneyline.value === this.calcData.val && type === this.calcData.type && event.name == this.calcData.team;\n    },\n    date: function date(_date) {\n      return moment(_date).format('MMM Do, YY');\n    },\n    addBet: function addBet(event) {\n      console.log(\"LOOL\");\n      var docRef = db.collection(\"users\").doc(\"ci4qwT3schuGrpi34JLo\");\n      docRef.get().then(function (doc) {\n        if (doc.exists) {\n          console.log(\"Document data:\", doc.data());\n        } else {\n          // doc.data() will be undefined in this case\n          console.log(\"No such document!\");\n        }\n      }).catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n    },\n    createChips: function createChips(val) {\n      var _this2 = this;\n\n      this.chips = [];\n      var values = val.filter(function (n) {\n        return n;\n      });\n      values.forEach(function (value) {\n        return _this2.chips.push(value);\n      });\n    },\n    removeChip: function removeChip(val) {\n      this.chips = this.chips.filter(function (item) {\n        return item !== val;\n      });\n      this.search = '';\n    },\n    updateEvents: function updateEvents(val) {\n      var sport = val.sport.value === 'All Sports' ? '' : val.sport.value;\n      var event = val.event.value === null ? '' : val.event.value;\n      this.search = \"\".concat(sport, \" \").concat(event);\n      this.createChips([sport, event]);\n    },\n    checkPayout: function checkPayout(event, type, team, name) {\n      this.calcData = {\n        team: event.team_name1,\n        type: type,\n        grade: event.odds[0][team][type].grade,\n        // direction: event.odds[0][team][type].direction,\n        // org: event.odds[0].org,\n        val: event.odds[0][team][type].value\n      };\n    }\n  }\n};",{"version":3,"sources":["events.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"events\">\n    <div class=\"container +mg-t-lg +mg-b-xxl\">\n      <div class=\"grid\" v-if=\"!events\">\n        <div class=\"col-12 +text-center\">\n          <loader border-width=\"4\" size=\"36\"/>\n          <h2 class=\"+uppercase +text-md +mg-t-md\">Loading Events</h2>\n        </div>\n      </div>\n\n      <div class=\"grid\">\n        <div class=\"col-9\">\n          <div class=\"grid events__category --no-gap\">\n            <div class=\"col-12\">\n              <div class=\"events__category-header\">\n                <h2  class=\"+text-base +text-bold +uppercase +text-grey-6\"> NBA League</h2>\n                <div class=\"events__count +mg-r-xs\">9</div>\n              </div>\n            </div>\n\n            <div class=\"col-12\">\n              <table class=\"events__table\">\n                <tr class=\"events__table-header\">\n                  <th class=\"+uppercase +text-sm +text-grey-6\">Date</th>\n                  <th class=\"+uppercase +text-sm +text-grey-6\">Teams</th>\n                  \n\n                  <th class=\"+uppercase +text-sm +text-grey-6\">\n                    <div class=\"+flex +align-items-center\">\n                      Moneyline\n                      <info-badge class=\"+mg-l-sm\" content=\"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vero, asperiores.\"/>\n                    </div>\n                  </th>\n                  <th class=\"+uppercase +text-sm +text-grey-6\">\n                    <div class=\"+flex +align-items-center\">\n                      Runline\n                      <info-badge class=\"+mg-l-sm\" content=\"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vero, asperiores.\"/>\n                    </div>\n                  </th>\n                  <th class=\"+uppercase +text-sm +text-grey-6\">\n                    <div class=\"+flex +align-items-center\">\n                      Total\n                      <info-badge class=\"+mg-l-sm\" content=\"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vero, asperiores.\"/>\n                    </div>\n                  </th>\n                </tr>\n\n                <template v-for=\"(event, index) in events\" >\n                  <tr v-if=\"event.sport=='basketball'\" class=\"events__table-row\" :key=\"`top-row-${index}`\">\n                    <td>\n                      <span class=\"+block +text-base +mg-b-sm\">{{ date(event.starting_time) }}</span>\n                      <span class=\"+block +text-grey-5 +text-sm\"></span>\n                    </td>\n                    <td>\n                      <div>\n                        <div class=\"events__split-column\">\n                          <team-badge class=\"events__logo +mg-r-xs\" :team=\"event.team_name1\" :sport=\"event.league\" />\n                          <span class=\"+block\">{{ event.team_name1}}</span>\n                        </div>\n                        <div class=\"events__split-column\">\n                          <team-badge class=\"events__logo +mg-r-xs\" :team=\"event.team_name2\" :sport=\"event.league\" />\n                          <span class=\"+block\">{{ event.team_name2 }}</span>\n                        </div>\n                      </div>\n                    </td>\n\n                    <td>\n                      <button :class=\"{ '--active': isActiveTab(event, 'moneyline', 'team_1','team_name1') }\" class=\"events__pill +mg-b-xs\" @click=\"checkPayout(event, 'moneyline','team_1' ,'team_name1')\">\n                        <grade-badge :grade=\"event.odds[0].team_1.moneyline.grade\" class=\"+mg-r-xs\" />\n                        <span class=\"+text-primary +text-sm +text-bold\">{{ event.odds[0].team_1.moneyline.value }}</span>\n                      </button>\n\n                      <button :class=\"{ '--active': isActiveTab(event, 'moneyline', 'team_2','team_name2')  }\" class=\"events__pill\" @click=\"checkPayout(event, 'moneyline', 'team_2','team_name2')\">\n                        <grade-badge :grade=\"event.odds[0].team_2.moneyline.grade\" class=\"+mg-r-xs\" />\n                        <span class=\"+text-primary +text-sm +text-bold\">{{ event.odds[0].team_2.moneyline.value }}</span>\n                      </button>\n                    </td>\n                    <td>\n                      <button :class=\"{ '--active': isActiveTab(event, 'spread', 'team_1','team_name1') }\" class=\"events__pill +mg-b-xs\" @click=\"checkPayout(event, 'spread', 'team_1','team_name1')\">\n                        <grade-badge :grade=\"event.odds[0].team_1.spread.grade\" class=\"+mg-r-xs\" />\n                        <span class=\"+text-primary +text-sm +text-bold\"> {{ event.odds[0].team_1.spread.handicap }}| {{ event.odds[0].team_1.spread.value }}</span>\n                      </button>\n\n                      <button :class=\"{ '--active': isActiveTab(event, 'spread', 'team_2','team_name2') }\" class=\"events__pill\" @click=\"checkPayout(event, 'spread', 'team_2','team_name2')\">\n                        <grade-badge :grade=\"event.odds[0].team_2.spread.grade\" class=\"+mg-r-xs\" />\n                        <span class=\"+text-primary +text-sm +text-bold\">{{ event.odds[0].team_2.spread.handicap }}| {{ event.odds[0].team_2.spread.value  }}</span>\n                      </button>\n                    </td>\n                    <td>\n                      <button :class=\"{ '--active': isActiveTab(event, 'total', 'team_2','team_name2') }\" class=\"events__pill +mg-b-xs\" @click=\"checkPayout(event, 'spread', 'team_1','team_name1')\">\n                        <grade-badge :grade=\"event.odds[0].total.under_pref.grade\" class=\"+mg-r-xs\" />\n                        <span class=\"+text-primary +text-sm +text-bold\">{{ event.odds[0].total.value}}|{{ event.odds[0].total.under_pref.value }}</span>\n                      </button>\n\n                      <button :class=\"{ '--active': isActiveTab(event, 'spread', 'team_1') }\" class=\"events__pill\" @click=\"checkPayout(event, 'spread', 'team_2')\">\n                        <grade-badge :grade=\"event.odds[0].total.under_pref.grade\" class=\"+mg-r-xs\" />\n                        <span class=\"+text-primary +text-sm +text-bold\">{{ event.odds[0].total.value }}|{{ event.odds[0].total.under_pref.value }}</span>\n                      </button>\n                    </td>\n                  </tr>\n                  <tr class=\"events__table-row-footer\" :key=\"`bottom-row-${index}`\">\n                    <td colspan=\"6\">\n                    </td>\n                  </tr>\n                </template>\n              </table>\n            </div>\n\n          \n          <div class=\"+pd-md +border-t-grey-1 +flex +align-items-center\">\n\n            <div class=\"+flex +align-items-center +inline\">\n              <span class=\"+in-line +mg-r-sm +uppercase +text-med\">Balance: ${{update_bankroll}} </span>\n\n            </div>\n          </div>\n       \n\n          </div>\n          <!-- this is where the next table should start -->\n        <div class=\"grid events__category --no-gap\">\n\n          <div class=\"col-12\">\n              <div class=\"events__category-header\">\n                <h2 class=\"+text-base +text-bold +uppercase +text-grey-6\"> Open NBA Bets</h2>\n                <div class=\"events__count +mg-r-xs\">9</div>\n              </div>\n            </div>\n          <div class=\"col-12\">\n            <table class=\"events__table\">\n              <tr class=\"events__table-header\">\n                  <th class=\"+uppercase +text-sm +text-grey-6\">Type</th>\n                  <th class=\"+uppercase +text-sm +text-grey-6\">Team Name</th>\n                  <th class=\"+uppercase +text-sm +text-grey-6\">\n                      Odds\n                  </th>\n                  <th class=\"+uppercase +text-sm +text-grey-6\">\n                      Risk\n                  </th>\n                  <th class=\"+uppercase +text-sm +text-grey-6\">\n                      Confirm\n                  </th>\n                </tr>\n                <template v-for=\"(open, index) in open_events\" >\n                  <tr class=\"events__table-row\" :key=\"`top-row-${index}`\">\n                    <td>\n                      <span class=\"+block +text-base +mg-b-sm\"> {{open.type}}</span>\n                    </td>\n                    <td>\n                          <span class=\"+block\">{{ open.teamName}}</span>\n                    </td>\n                    <td>\n                      <span class=\"+block +text-base +mg-b-sm\"> {{open.val}}</span>\n                    </td>\n                    <td>\n                      <span class=\"+block +text-base +mg-b-sm\"> {{open.risk}}</span>\n                    </td>\n                    <td>\n                    \n                    <button class=\"events__pill +mg-b-xs\">  <span> <grade-badge :grade=\"'Y'\" class=\"+mg-r-xs\" /> </span>\n             </button>\n\n                        <button class=\"events__pill +mg-b-xs\">  <span> <grade-badge :grade=\"'N'\" class=\"+mg-r-xs\" />  </span>\n             </button>\n\n                    </td>\n\n                  </tr>\n\n                </template>\n\n\n            </table>\n            </div>\n\n \n        </div>\n        </div>\n\n        <div class=\"col-3\">\n          <bet-example :payout=\"calcData\" class=\"+sticky\" @clear-payout=\"calcData = null\" style=\"top: 93px\"/>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport moment from 'moment';\nimport firebase from 'firebase';\nimport TeamBadge from '@/components/team-badge';\nimport BetExample from '@/components/bet-example';\nimport Loader from '@/components/loader';\nimport InfoBadge from '@/components/info-badge';\nimport GradeBadge from '@/components/grade-badge';\nimport { db } from '../main';\n\nexport default {\n    // devtools = true,\n    // debug = true,\n    components: { TeamBadge, Loader, BetExample, InfoBadge, GradeBadge },\n    data: () => ({\n        events: null,\n        search: null,\n        chips: [],\n        errors: [],\n        posts: [],\n        events:[],\n        open_events:[],\n        bankroll:null,\n        calcData: null\n    }),\n    created() {\n        // const events = await axios.get('/events');\n        // const events={};\n        // console.log(\"HELLO\");\n        \n\n    },\n        mounted() {\n          console.log(firebase.auth().currentUser);\n          var user = firebase.auth().currentUser;\n          // console.log(db.collection('users'));\n          console.log(\"legends\");\n          console.log(db.collection('users').orderBy('createdAt'));\n          // db.collection('users').add({\"Moosa\":{\"name\":\"moosa\"}});\n\n          axios.get(`https://droplet.smartlines.ca/apiv2/events/`)\n          .then(response => {\n\n            // JSON responses are automatically parsed.\n            // this.posts = response.data\n            this.events = response.data;\n            cosole.log(\"LOOL\")\n            console.log(this.events);\n\n          })\n          .catch(e => {\n            this.errors.push(e)\n            console.log(this.errors);\n          })\n        //  this.events = await events.data;\n\n        // var openBetsRef = db.collection(\"open\");\n        // openBetsRef.get().then(function(doc) {\n        //    openBetsRef.docs.map(doc => doc.data());\n\n        // })\n\n         const markers = [];\n           db.collection(\"open\").where(\"uid\", \"==\", user.uid).get()\n            .then(querySnapshot => {\n              querySnapshot.docs.forEach(doc => {\n              this.open_events.push(doc.data());\n            });\n          });\n          console.log(markers);\n\n        }\n    ,\n    computed: {\n         update_bankroll() {\n            const user = firebase.auth().currentUser\n            var self = this;\n            var docRef = db.collection(\"users\").doc(user.uid);\n            var fireRoll =0;\n            docRef.get().then(function(doc) {\n                if (doc.exists) {\n                    fireRoll = doc.data().bankroll;\n                    self.bankroll = fireRoll;\n                    console.log(  this.bankroll);\n                } else {\n                    console.log(\"No such document!\");\n                }\n                }).catch(function(error) {\n                    console.log(\"Error getting document:\", error);\n                });\n            return self.bankroll\n        }\n      },\n    methods: {\n        isActiveTab(event, type,team,name) {\n          // console.log(team);\n            // console.log(event.odds[0].team_1.moneyline.value);\n            var team1 = '';\n            if(team == 'team_1'){\n              team1= \"team_1\";\n            }\n            // console.log(team1);\n            if (!this.calcData) return;\n            return (\n                event.odds[0].team_1.moneyline.value === this.calcData.val &&\n                type === this.calcData.type &&\n                event.name== this.calcData.team\n            );\n        },\n        \n        date(date) {\n            return moment(date).format('MMM Do, YY');\n        },\n\n        addBet: function (event) {\n          console.log(\"LOOL\")\n          var docRef = db.collection(\"users\").doc(\"ci4qwT3schuGrpi34JLo\");\n\n          docRef.get().then(function(doc) {\n              if (doc.exists) {\n                  console.log(\"Document data:\", doc.data());\n              } else {\n                  // doc.data() will be undefined in this case\n                  console.log(\"No such document!\");\n              }\n          }).catch(function(error) {\n              console.log(\"Error getting document:\", error);\n          });\n\n\n    },\n    \n        createChips(val) {\n            this.chips = [];\n            const values = val.filter(n => n);\n            values.forEach(value => this.chips.push(value));\n        },\n        removeChip(val) {\n            this.chips = this.chips.filter(item => item !== val);\n            this.search = '';\n        },\n        updateEvents(val) {\n            const sport = val.sport.value === 'All Sports' ? '' : val.sport.value;\n            const event = val.event.value === null ? '' : val.event.value;\n\n            this.search = `${sport} ${event}`; \n            this.createChips([sport, event]);\n        },\n        checkPayout(event, type, team,name) {\n            this.calcData = {\n                team: event.team_name1,\n                type,\n                grade: event.odds[0][team][type].grade,\n                // direction: event.odds[0][team][type].direction,\n                // org: event.odds[0].org,\n                val: event.odds[0][team][type].value\n            };\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\">\n@include component(events) {\n    @include part(category-header) {\n        align-items: center;\n        background: $grey-1;\n        border-radius: 4px 4px 0 0;\n        display: flex;\n        justify-content: space-between;\n        min-height: 57px;\n        padding: $md-unit;\n    }\n\n    @include part(split-column) {\n        align-items: center;\n        display: flex;\n        min-height: 45px;\n    }\n\n    @include part(next) {\n        align-items: center;\n        border-radius: 50%;\n        display: flex;\n        flex: none;\n        height: 40px;\n        justify-content: center;\n        width: 40px;\n\n        &:hover {\n            background: $grey-2;\n        }\n    }\n\n    @include part(not-found) {\n        flex: 0 0 500px;\n    }\n\n    @include part(pill) {\n        align-items: center;\n        border: 1px solid $grey-2;\n        border-radius: 50px;\n        cursor: pointer;\n        display: flex;\n        flex: none;\n        justify-content: space-between;\n        min-width: 80px;\n        padding: $xxs-unit;\n        padding-right: $sm-unit;\n\n        &:hover {\n            background: $grey-1;\n        }\n\n        @include option(active) {\n            border-color: $primary;\n        }\n    }\n\n    @include part(category) {\n        background: $white;\n        border-radius: 4px;\n        box-shadow: $elevation-5;\n\n        &:not(:first-of-type) {\n            margin-top: $xl-unit;\n        }\n    }\n\n    @include part(table) {\n        border-collapse: collapse;\n        width: 100%;\n\n        td,\n        th {\n            padding: $md-unit;\n            position: relative;\n            text-align: left;\n        }\n    }\n\n    @include part(table-header) {\n        border-bottom: 1px solid $grey-3;\n    }\n\n    @include part(table-row) {\n       \n    }\n\n    @include part(table-row-footer) {\n        > td {\n            padding: 0 $md-unit;\n        }\n\n        &:not(:last-of-type) {\n            border-bottom: 1px solid $grey-2;\n        }\n    }\n\n    @include part(logo) {\n        border: 1px solid $grey-2;\n        border-radius: 50%;\n        height: 25px;\n        width: 25px;\n\n        > img {\n            height: 100%;\n            object-fit: cover;\n            width: 100%;\n        }\n    }\n\n    @include part(count) {\n        align-items: center;\n        background: $primary;\n        border-radius: 50%;\n        color: $white;\n        display: flex;\n        font-size: $base-unit;\n        height: 25px;\n        justify-content: center;\n        width: 25px;\n    }\n}\n\n@keyframes icon {\n    0% {\n        transform: scale(1);\n    }\n\n    50% {\n        transform: scale(1.05);\n    }\n\n    100% {\n        transform: scale(1);\n    }\n}\n</style>\n"],"sourceRoot":"src/views"}]}